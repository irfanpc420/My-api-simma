(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6326],{37715:function(e,t,a){var r={"./ar.json":[1340,1340],"./cn.json":[59583,9583],"./de.json":[87821,7821],"./en.json":[759,759],"./es.json":[25959,5959],"./fr.json":[17298,7298],"./ja.json":[30458,458],"./ko.json":[39672,9672],"./pt.json":[65529,5529],"./ru.json":[81707,1707],"./th.json":[97699,7699],"./tw.json":[19275,9275],"./vi.json":[23800,3800]};function l(e){if(!a.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],l=t[0];return a.e(t[1]).then(function(){return a.t(l,19)})}l.keys=function(){return Object.keys(r)},l.id=37715,e.exports=l},68213:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(66710),l=a(34014);function n(e){let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-9 items-center justify-center rounded border border-white/10 bg-white/5 px-3 text-sm",a),children:t})}},4429:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(66710),l=a(66893),n=a(34014),i=a(86370),s=a(5910);function o(e){let{name:t,options:a,className:o,disabled:c,onChange:u}=e,d=(0,l.Gc)(),m=e=>{if(u){u(e);return}d.setValue(t,e)};return(0,r.jsx)(i.Wi,{control:d.control,name:t,render:e=>{let{field:l}=e;return(0,r.jsxs)(i.xJ,{className:"space-y-0",children:[(0,r.jsx)(i.lX,{className:"sr-only",children:t}),(0,r.jsxs)(s.Ph,{onValueChange:m,value:l.value,disabled:c,children:[(0,r.jsx)(i.NI,{children:(0,r.jsx)(s.i4,{className:(0,n.cn)("h-9 rounded border-white/10 bg-white/5 py-1 text-sm text-white/70",o),children:(0,r.jsx)(s.ki,{placeholder:""})})}),(0,r.jsx)(s.Bw,{className:"flex rounded border-[#363C41] bg-white/10 backdrop-blur-xl",children:a.map(e=>(0,r.jsx)(s.Ql,{value:e.value,className:(0,n.cn)("cursor-pointer rounded text-white/70 focus:bg-white/10",e.value===l.value&&"border-white text-white"),children:(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[null==e?void 0:e.leftIcon,e.name,null==e?void 0:e.rightIcon]})},e.value))})]}),(0,r.jsx)(i.zG,{})]})}})}},26379:function(e,t,a){"use strict";a.d(t,{default:function(){return n}});var r=a(66710),l=a(62774);function n(){return(0,r.jsx)("div",{className:"hidden w-[240px] rounded-lg border border-white/10 bg-white/5 p-3 lg:flex",children:(0,r.jsx)(l.Z,{imageNum:10})})}},17295:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var r=a(66710),l=a(74296),n=a(11046),i=a(19929),s=a(34014);let o=i.zt,c=i.fC,u=i.xz;i.Eh;let d=n.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...n}=e;return(0,r.jsx)(i.VY,{ref:t,sideOffset:l,className:(0,s.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})});function m(e){let{width:t=21,height:a=21,viewBox:l="0 0 21 21",fill:n="none",fillOpacity:i=.4,...s}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:l,fill:n,...s,children:(0,r.jsx)("path",{d:"M12.5978 12.7836C12.7184 12.6555 12.9139 12.6555 13.0345 12.7836C13.1552 12.9117 13.1552 13.1195 13.0345 13.2476L9.94631 16.5289C9.82571 16.657 9.63017 16.657 9.50957 16.5289L6.42133 13.2476C6.30073 13.1195 6.30073 12.9117 6.42133 12.7836C6.54194 12.6555 6.73747 12.6555 6.85808 12.7836L9.41912 15.5047V11.7031C9.41912 11.094 9.19136 10.5097 8.78595 10.079C8.38054 9.64824 7.83069 9.40625 7.25735 9.40625H2.93382C2.76327 9.40625 2.625 9.25934 2.625 9.07812C2.625 8.89691 2.76327 8.75 2.93382 8.75H7.25735C7.9945 8.75 8.70145 9.06113 9.22269 9.61495C9.74393 10.1688 10.0368 10.9199 10.0368 11.7031V15.5047L12.5978 12.7836Z",fill:"white",fillOpacity:i})})}function f(e){let{children:t,tips:a}=e;return(0,r.jsxs)("div",{className:"flex h-3.5 items-center justify-between text-sm capitalize text-white/40",children:[(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[t,(0,r.jsx)(m,{})]}),a&&(0,r.jsx)(o,{children:(0,r.jsxs)(c,{delayDuration:150,children:[(0,r.jsx)(u,{asChild:!0,children:(0,r.jsx)("button",{type:"button",children:(0,r.jsx)(l.Z,{className:"size-3.5 text-[#404142] hover:text-white"})})}),(0,r.jsx)(d,{side:"right",className:"isolate max-w-[206px] rounded border-main-gray bg-card-black p-2",children:(0,r.jsx)("p",{children:a})})]})})]})}d.displayName=i.VY.displayName},90090:function(e,t,a){"use strict";a.d(t,{default:function(){return n},g:function(){return l}});var r=a(66710);let l=(0,a(11046).createContext)("text2image");function n(e){let{imageFormType:t,children:a}=e;return(0,r.jsx)(l.Provider,{value:t,children:a})}},80086:function(e,t,a){"use strict";a.d(t,{default:function(){return O}});var r=a(66710),l=a(11046),n=a(97229),i=a(97027),s=a(78608),o=a(43191),c=a(6664),u=a(34014),d=a(78162),m=a(12435),f=a(5910),p=a(18296),h=a(35009),x=a(73030),g=a(10906),b=a(68213),v=a(41093),j=a(56417),w=a(48998),y=a(99418),C=a(3051),k=a(59597),N=a(89726),Z=a(48894);function _(e){let{min:t=0,max:a=10,step:n=1,defaultValue:i,onChange:s}=e,[o,c]=(0,l.useState)(i||0),d=e=>{c(t=>t+e)};return(0,r.jsxs)("div",{className:"flex h-8 w-[264px] items-center gap-1 rounded border border-white/10 bg-white/5 px-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>d(-n),children:(0,r.jsx)(k.Z,{className:"hover:text-main size-4 text-[#C2C2C2]"})}),(0,r.jsx)(Z.i,{value:[o],onValueChange:e=>{c(e[0]),s&&s(e[0])},max:a,step:n,min:t,className:"h-3.5 w-full",rangeClassName:"bg-gradient-main",trackClassName:"bg-[#171D1D] h-full",thumbClassName:(0,u.cn)("size-5 bg-[#4C4C4C]",o<=(a-t)/2&&"-translate-x-1")}),(0,r.jsx)("button",{type:"button",onClick:()=>d(n),children:(0,r.jsx)(N.Z,{className:"hover:text-main size-4 text-[#C2C2C2]"})}),(0,r.jsx)("input",{type:"number",min:t,max:a,step:n,value:o,onChange:e=>{Number(e.target.value)>a||Number(e.target.value)<t||(c(Number(e.target.value)),s&&s(Number(e.target.value)))},className:"hide-number-input h-7 w-12 rounded-sm bg-[#121212] text-center text-xs text-white/70"})]})}function S(e){let{image:t,className:a,onMaskGenerated:n}=e,i=(0,l.useRef)(null),s=(0,l.useRef)(null),[o,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)("brush"),[f,p]=(0,l.useState)(60),h=(0,l.useRef)(null),x=(0,l.useRef)([]),g=(0,l.useRef)(-1),b=(0,l.useRef)(null),{mousePosition:k,isVisible:N}=function(e){let[t,a]=(0,l.useState)({x:0,y:0}),[r,n]=(0,l.useState)(!1),i=(0,C.zl)(t=>{if(e.current&&e.current.contains(t.target)){let r=e.current.getBoundingClientRect();a({x:t.clientX-r.left,y:t.clientY-r.top}),n(!0)}},16),s=(0,C.y1)(()=>{n(!1)},16);return(0,l.useEffect)(()=>{let t=e.current;return t&&(t.addEventListener("mousemove",i),t.addEventListener("mouseleave",s)),()=>{t&&(t.removeEventListener("mousemove",i),t.removeEventListener("mouseleave",s))}},[e,i,s]),{mousePosition:t,isVisible:r}}(b),Z=()=>{let e=s.current;if(!e||!n)return;let t=e.getContext("2d");if(!t)return;let a=t.getImageData(0,0,e.width,e.height),{data:r}=a;for(let e=0;e<r.length;e+=4){let t=r[e+3];r[e]=t?255:0,r[e+1]=t?255:0,r[e+2]=t?255:0,r[e+3]=255}let l=document.createElement("canvas");l.width=e.width,l.height=e.height;let i=l.getContext("2d");null==i||i.putImageData(a,0,0),n(l.toDataURL())},S=()=>{var e;let t=null===(e=s.current)||void 0===e?void 0:e.getContext("2d");if(!t)return;let a=t.getImageData(0,0,t.canvas.width,t.canvas.height);x.current=x.current.slice(0,g.current+1),x.current.push(a),g.current=g.current+1};(0,l.useEffect)(()=>{let e=new Image;e.src=t,e.onload=()=>{let t=i.current,a=s.current;if(!t||!a)return;t.width=e.width,t.height=e.height,a.width=e.width,a.height=e.height;let r=t.getContext("2d");null==r||r.drawImage(e,0,0);let l=a.getContext("2d");l&&(l.fillStyle="rgba(0,0,0,0)",l.fillRect(0,0,a.width,a.height),S())}},[t]);let z=e=>{var t;c(!0);let a=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect();if(a){let t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY;h.current={x:(t-a.left)*(s.current.width/a.width),y:(r-a.top)*(s.current.height/a.height)}}},M=(0,l.useCallback)(e=>{var t,a;if(!o||!h.current)return;let r=null===(t=s.current)||void 0===t?void 0:t.getContext("2d"),l=null===(a=s.current)||void 0===a?void 0:a.getBoundingClientRect();if(!r||!l)return;let n=s.current.width/l.width,i=s.current.height/l.height,c=(n+i)/2*f,u="touches"in e?e.touches[0].clientX:e.clientX,m="touches"in e?e.touches[0].clientY:e.clientY,p={x:(u-l.left)*n,y:(m-l.top)*i};"brush"===d?(r.globalCompositeOperation="source-over",r.strokeStyle="rgba(0, 0, 0, 1)"):(r.globalCompositeOperation="destination-out",r.strokeStyle="rgba(0, 0, 0, 1)",r.shadowColor="transparent",r.shadowBlur=0),r.lineCap="round",r.lineJoin="round",r.lineWidth=c,r.beginPath(),r.moveTo(h.current.x,h.current.y),r.lineTo(p.x,p.y),r.stroke(),h.current=p},[o,h,d,f]),L=()=>{o&&(c(!1),S(),Z())};return(0,r.jsxs)("div",{className:(0,u.cn)("relative flex aspect-square w-full flex-col gap-3 lg:aspect-auto",a),children:[(0,r.jsx)("div",{className:"pointer-events-none absolute z-50 -translate-x-1/2 -translate-y-1/2 rounded-full bg-yellow-400 bg-opacity-60",style:{left:k.x,top:k.y,width:f,height:f,display:N?"block":"none"}}),(0,r.jsxs)("div",{className:"relative flex-1",ref:b,children:[(0,r.jsx)("canvas",{ref:i,className:"absolute inset-0 left-1/2 top-1/2 max-h-full max-w-full -translate-x-1/2 -translate-y-1/2"}),(0,r.jsx)("canvas",{ref:s,className:"absolute inset-0 left-1/2 top-1/2 max-h-full max-w-full -translate-x-1/2 -translate-y-1/2",onMouseDown:z,onMouseMove:M,onMouseUp:L,onMouseOut:L,onTouchStart:z,onTouchMove:M,onTouchEnd:L,onTouchCancel:L})]}),(0,r.jsxs)("div",{className:"bottom-4 left-4 z-10 flex w-full flex-col gap-2 rounded bg-card-black p-2 lg:flex-row lg:gap-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{var e;if(g.current<=0)return;g.current=g.current-1;let t=null===(e=s.current)||void 0===e?void 0:e.getContext("2d");t&&(t.putImageData(x.current[g.current],0,0),Z())},className:"flex size-8 items-center justify-center rounded hover:border hover:border-white/10 hover:bg-white/5",children:(0,r.jsx)(v.Z,{className:"size-5",strokeWidth:1})}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;if(g.current>=x.current.length-1)return;g.current=g.current+1;let t=null===(e=s.current)||void 0===e?void 0:e.getContext("2d");t&&(t.putImageData(x.current[g.current],0,0),Z())},className:"flex size-8 items-center justify-center rounded hover:border hover:border-white/10 hover:bg-white/5",children:(0,r.jsx)(j.Z,{className:"size-5",strokeWidth:1})})]}),(0,r.jsxs)("div",{className:"flex h-8 items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded border border-white/10 bg-white/5 p-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>m("brush"),className:(0,u.cn)("flex size-6 items-center justify-center rounded","brush"===d&&"bg-white/10"),children:(0,r.jsx)(w.Z,{className:"size-4",strokeWidth:1})}),(0,r.jsx)("button",{type:"button",onClick:()=>m("eraser"),className:(0,u.cn)("flex size-6 items-center justify-center rounded","eraser"===d&&"bg-white/10"),children:(0,r.jsx)(y.Z,{className:"size-4",strokeWidth:1})})]}),(0,r.jsx)(_,{min:1,max:100,step:1,defaultValue:f,onChange:p})]})]})]})}function z(e){let{imgSrc:t}=e,a=(0,n.Z)(e=>e.setLayerMaskDataUrl),l=async e=>{a(e)};return(0,r.jsx)("div",{className:"flex max-h-full flex-1 grow flex-col",children:(0,r.jsx)("div",{className:"relative flex size-full items-center justify-center rounded-lg border border-main-gray bg-black/40 p-3 lg:h-[calc(100%-48px)] lg:p-5",children:(0,r.jsx)(S,{image:t,onMaskGenerated:l,className:"size-full max-h-full max-w-full"})})})}var M=a(33693);function L(e){let{src:t,name:a}=e;return(0,r.jsx)("div",{className:"flex h-full rounded-lg bg-black text-xs",children:(0,r.jsxs)("div",{className:"flex h-full flex-1 flex-col items-center rounded-inherit border border-white/10 bg-white/5 px-1",children:[(0,r.jsx)("img",{src:t,alt:a,className:"max-h-20 max-w-20 rounded-md"}),(0,r.jsx)("div",{className:"mt-auto text-white/70",children:a})]})})}function I(){let e=(0,c.useTranslations)("flux-ai.uiForm.display"),t=(0,n.Z)(e=>e.imageObj);return"loading"!==t&&t?(0,r.jsxs)("div",{className:"absolute bottom-1 left-0 z-50 flex h-24 w-full items-center gap-1 px-1",children:[!!t.originalImg&&(0,r.jsx)(L,{src:t.originalImg,name:e("original-img")}),(0,r.jsx)("div",{className:"h-full flex-1 overflow-auto rounded-lg border border-main-gray bg-card-black p-2 text-sm text-white/70",children:t.prompt})]}):null}function V(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:60,height:60,viewBox:"0 0 60 60",fill:"none",...e,children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_2001_17297)",children:[(0,r.jsx)("rect",{x:.5,y:.5,width:59,height:59,rx:15.5,fill:"url(#paint0_linear_2001_17297)",stroke:"url(#paint1_linear_2001_17297)"}),(0,r.jsx)("g",{opacity:.2,filter:"url(#filter0_f_2001_17297)",children:(0,r.jsx)("ellipse",{cx:35,cy:69,rx:59,ry:13,fill:"#FB4DFF"})}),(0,r.jsx)("path",{d:"M46.7154 16.2388C48.9451 17.3101 50.048 19.7399 50.048 22.2137V42.7762C50.048 45.1096 47.8631 47.0012 45.168 47.0012H15.8878C13.1927 47.0012 11.0078 45.1096 11.0078 42.7762V34.7592C11.0078 32.1769 12.215 29.6117 14.6608 28.7833C16.1752 28.2705 17.8235 27.9889 19.5479 27.9889C20.7839 27.9889 21.9814 27.4316 22.6483 26.3908C25.9337 21.2634 31.5152 14.2578 37.8479 14.2578C41.0652 14.2578 44.0885 14.9766 46.7154 16.2388Z",fill:"white",fillOpacity:.05}),(0,r.jsx)("g",{filter:"url(#filter1_i_2001_17297)",children:(0,r.jsx)("path",{d:"M43.4926 19.0531C45.9164 19.9422 47.125 22.4889 47.125 25.0706V40.9032C47.125 42.6135 45.3901 44 43.25 44H18C15.8599 44 14.125 42.6135 14.125 40.9032V36.3164C14.125 33.6285 15.5358 31.1409 18.1681 30.5967C19.8323 30.2526 21.5992 30.0645 22.9062 30.0645C23.8952 30.0645 24.8556 29.6352 25.3869 28.8011C27.9981 24.7011 32.4209 18 37.4375 18C39.5985 18 41.6493 18.377 43.4926 19.0531Z",fill:"black",fillOpacity:.1})}),(0,r.jsx)("path",{d:"M17.5562 14.7781C17.5562 16.8647 15.8647 18.5562 13.7781 18.5562C11.6915 18.5562 10 16.8647 10 14.7781C10 12.6915 11.6915 11 13.7781 11C15.8647 11 17.5562 12.6915 17.5562 14.7781Z",fill:"white",fillOpacity:.05})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("filter",{id:"filter0_f_2001_17297",x:-39.1,y:40.9,width:148.2,height:56.2,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:7.55,result:"effect1_foregroundBlur_2001_17297"})]}),(0,r.jsxs)("filter",{id:"filter1_i_2001_17297",x:14.125,y:18,width:33,height:26,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:2}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.084847 0 0 0 0 0 0 0 0 0 0.0834329 0 0 0 0.25 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_2001_17297"})]}),(0,r.jsxs)("linearGradient",{id:"paint0_linear_2001_17297",x1:30,y1:0,x2:30,y2:60,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"white",stopOpacity:.1}),(0,r.jsx)("stop",{offset:1,stopColor:"white",stopOpacity:.05})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_2001_17297",x1:30,y1:0,x2:30,y2:60,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#212121"}),(0,r.jsx)("stop",{offset:1})]}),(0,r.jsx)("clipPath",{id:"clip0_2001_17297",children:(0,r.jsx)("rect",{width:60,height:60,rx:16,fill:"white"})})]})]})}function U(e){let{children:t,onClick:a,className:l,disabled:n}=e;return(0,r.jsx)(b.Z,{className:(0,u.cn)("rounded-lg hover:bg-white/20",l),children:(0,r.jsx)("button",{type:"button",className:(0,u.cn)("flex-center h-8 flex-1 gap-1.5 rounded",n&&"cursor-not-allowed opacity-40"),onClick:a,disabled:n,children:t})})}function O(e){let{redirectToImageToImage:t=!1}=e,a=(0,c.useTranslations)("flux-ai.uiForm.display"),v=(0,g.tv)(),j=(0,n.Z)(e=>e.imageObj),w=(0,n.Z)(e=>e.layerImageObj),y=(0,n.Z)(e=>e.setLayerImageObj),C=(0,n.Z)(e=>e.updateImageObj),k=(0,n.Z)(e=>e.setImageFormSrc),{convertAndDownload:N,isLoading:Z}=(0,d.Z)(),[_,S]=(0,l.useState)(d.e[0]),[L,O]=(0,l.useState)(!1),T=!j||"loading"===j,R=!!j&&"object"==typeof j,F=R&&((null==j?void 0:j.type)==="display-one"||(null==j?void 0:j.type)==="display-one-edit");return w?(0,r.jsx)(z,{imgSrc:w.originalImg},w.id):(0,r.jsxs)("div",{id:"ImageDisplay",className:"flex max-h-full flex-1 grow flex-col",children:[(0,r.jsxs)("div",{className:"relative flex flex-1 items-center justify-center rounded-lg border border-main-gray bg-black/40 p-3 lg:h-[calc(100%-48px)] lg:p-5",children:[R&&F&&(0,r.jsx)("img",{src:j.src,alt:j.name,className:"max-h-[351px] max-w-full rounded lg:max-h-full"},j.id),R&&"compare-two"===j.type&&(0,r.jsx)(m.Z,{firstImage:j.src,secondImage:j.originalImg,initialSliderPercentage:99,slideMode:"drag",className:"aspect-square max-h-full w-full max-w-full lg:aspect-auto"},j.id),"loading"===j&&(0,r.jsx)(x.Z,{className:"size-10"}),null===j&&(0,r.jsxs)("div",{className:"flex flex-1 flex-col items-center gap-3 text-white/40",children:[(0,r.jsx)(V,{}),a("noImage")]}),L&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(I,{})})]}),(0,r.jsxs)("div",{className:"relative flex flex-none flex-col gap-3 pt-3 lg:flex-row lg:items-center lg:justify-end",children:[R&&"compare-two"===j.type&&(0,r.jsx)(b.Z,{className:"mr-auto gap-1.5 rounded-lg p-1 px-3 text-sm text-white/70",children:(0,r.jsx)("button",{type:"button",onClick:()=>{j&&"object"==typeof j&&(null==j?void 0:j.originalImg)&&(C(null),k(j.originalImg),y({id:Date.now().toString(),originalImg:j.originalImg}))},children:a("reset-inpainting")})}),t&&R&&F&&(0,r.jsx)(M.default,{imgSrc:j.src},j.src),R&&"display-one-edit"===j.type&&(0,r.jsx)(b.Z,{className:"gap-1.5 rounded-lg p-1 text-sm text-white/70",children:(0,r.jsx)("button",{type:"button",onClick:()=>{j&&"object"==typeof j&&(null==j?void 0:j.src)&&k(j.src)},children:a("continue-edit")})}),R&&(0,r.jsxs)(b.Z,{className:"gap-1.5 rounded-lg p-1 text-sm text-white/70",children:[(0,r.jsx)("div",{className:"flex-center size-7 rounded bg-white/10 hover:opacity-70",children:(0,r.jsx)(h.default,{content:(null==j?void 0:j.prompt)||""})}),(0,r.jsxs)("button",{type:"button",onClick:()=>O(!L),disabled:T,className:(0,u.cn)("flex flex-1 items-center justify-between gap-1 rounded bg-white/10 p-1 px-2 hover:opacity-70",T&&"cursor-not-allowed opacity-40"),children:[a("prompt"),(0,r.jsx)(i.Z,{className:(0,u.cn)("size-3.5 rotate-0 transition duration-200",L&&"-rotate-180")})]})]}),(0,r.jsxs)(b.Z,{className:"gap-1 rounded-lg p-1 text-white",children:[(0,r.jsxs)(f.Ph,{disabled:T,value:_,onValueChange:e=>S(e),children:[(0,r.jsx)(f.i4,{className:"h-full rounded border-none bg-white/10 uppercase hover:text-white/40",children:(0,r.jsx)(f.ki,{})}),(0,r.jsx)(f.Bw,{className:"flex border border-white/10 bg-card-black p-0",children:(0,r.jsx)(f.DI,{children:d.e.map(e=>(0,r.jsx)(f.Ql,{value:e,className:"cursor-pointer focus:bg-white/40",children:e},e))})})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{j&&"object"==typeof j&&N({imageUrl:j.src,type:_,imageName:j.name})},disabled:Z||T,className:(0,u.cn)("flex-center aspect-square h-full rounded bg-white/10 hover:text-white/40",T&&"cursor-not-allowed opacity-40"),children:Z?(0,r.jsx)(x.Z,{className:"size-5"}):(0,r.jsx)(s.Z,{className:"size-5",strokeWidth:1})})]}),(0,r.jsxs)(U,{onClick:()=>{j&&"object"==typeof j&&v.push("/flux-ai/".concat(j.id))},className:"order-first pr-0.5 lg:order-last",disabled:!j||"loading"===j,children:[a("imageDetail")," ",(0,r.jsx)(o.Z,{strokeWidth:1,className:"size-5"})]})]})]})}},68674:function(e,t,a){"use strict";a.d(t,{default:function(){return Q}});var r=a(66710),l=a(11046),n=a(50146),i=a(69710),s=a(97229),o=a(52654),c=a(44525),u=a(74145),d=a(32438),m=a(28882),f=a(17967),p=a(15242),h=a(38270),x=a(2985),g=a(6664),b=a(19398),v=a(66893),j=a(32546),w=a(24153),y=a(10609),C=a(34014),k=a(15614),N=a(88896),Z=a(16281),_=a(42116),S=a(67698),z=()=>{let e=(0,g.useTranslations)("flux-models");return y.XJ.map(t=>({...t,name:t.nameSubfix?"".concat(t.name," (").concat(e(t.nameSubfix),")"):t.name}))},M=a(42517),L=a(21453),I=a(86370),V=a(66270),U=a(73030),O=a(86947),T=a(36999);function R(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",fill:"none",...e,children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:"M10.5 3.5C10.5 3.10218 10.658 2.72064 10.9393 2.43934C11.2206 2.15804 11.6022 2 12 2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12 8C11.6022 8 11.2206 7.84196 10.9393 7.56066C10.658 7.27936 10.5 6.89782 10.5 6.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15 2C15.3978 2 15.7794 2.15804 16.0607 2.43934C16.342 2.72064 16.5 3.10218 16.5 3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M16.5 6.5C16.5 6.89782 16.342 7.27936 16.0607 7.56066C15.7794 7.84196 15.3978 8 15 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2.25 5.75L4.5 8L6.75 5.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M4.5 8V4.25C4.5 3.65326 4.73705 3.08097 5.15901 2.65901C5.58097 2.23705 6.15326 2 6.75 2H7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6 11H3C2.17157 11 1.5 11.6716 1.5 12.5V15.5C1.5 16.3284 2.17157 17 3 17H6C6.82843 17 7.5 16.3284 7.5 15.5V12.5C7.5 11.6716 6.82843 11 6 11Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})}var F=a(37708),E=a(68213),D=a(4429),B=a(90090),P=a(2097),H=a(87898),G=a(19429),A=a(4021),W=a(10906);function J(e){let{prompt:t,successCb:a,imageId:n,className:i,duration:s=30}=e,o=(0,g.useTranslations)("components.form-EnhanceBtn"),c=(0,W.jD)(),u=(0,p.Z)(e=>e.setOpen),m=(0,d.Z)(e=>e.setOpen),f=(0,G.Z)(e=>e.setLocalRedirectUrl),x=(0,h.Z)(e=>e.userInfo),[b,v]=(0,l.useState)(!1),[j,w]=(0,l.useState)(0),y=!!(null==x?void 0:x.isValidity);(0,l.useEffect)(()=>{let e;return j>0?e=setTimeout(()=>{w(j-1)},1e3):0===j&&v(!1),()=>{e&&clearTimeout(e)}},[j]);let k=async()=>{if(!x){f(c),m(!0);return}if(!y){u(!0);return}if(!t.trim())return;v(!0),w(s);let e={prompt:t};n&&(e.imageId=n),a((await (0,H.Fk)(e)).data.newPrompt),v(!1)};return(0,r.jsx)(E.Z,{children:(0,r.jsxs)("button",{type:"button",onClick:k,disabled:b||!t.trim(),className:(0,C.cn)("mx-auto flex flex-1 flex-nowrap items-center justify-center gap-1 text-sm",(b||!t.trim())&&"cursor-not-allowed opacity-40",i),children:[(0,r.jsx)(A.Z,{}),(0,r.jsxs)("span",{className:"text-gradient-main",children:[o("optimizePrompt"),j>0&&" (".concat(j,")s")]})]})})}var X=a(17295),q=a(61719);let Y=w.z.object({prompt:w.z.string(),negativePrompt:w.z.string().optional(),image:w.z.instanceof(File).refine(e=>e.size>=0).refine(e=>e.type.startsWith("image/")).optional().or(w.z.any()),isPublic:w.z.boolean().optional(),resolution:w.z.string(),fluxModel:w.z.string(),imageModel:w.z.string().optional(),loraModel:w.z.string().optional(),color:w.z.array(w.z.object({id:w.z.string(),color:w.z.string()})).optional().or(w.z.any()),numInferenceSteps:w.z.array(w.z.number()).optional(),imagePromptStrength:w.z.array(w.z.number()).optional(),steps:w.z.array(w.z.number()).optional(),guidanceScale:w.z.array(w.z.number()).optional(),seed:w.z.number().optional(),processModel:w.z.string().optional(),promptTemplate:w.z.string().optional(),style:w.z.string().optional(),version:w.z.string().optional()});function Q(e){let{styleName:t="",allowUploadImage:a=!0,slotNode:w,slotNodeAfter:H,moreFormSchema:G,formatPrompt:A,submitBtnId:W,showFluxModel:Q=!0,defaultValues:K,showResolution:$=!0,showOptimizePromptBtn:ee=!0,showPromptInput:et=!0,slotNodeFunc:ea,imageFormLabel:er,slotNodeFuncAfterInput:el,onResetAll:en}=e,ei=(0,g.useTranslations)("flux-ai.uiForm"),es=(0,l.useContext)(B.g),eo=(0,h.Z)(e=>e.userInfo),ec=(0,h.Z)(e=>e.auth),eu=(0,f.Z)(e=>e.setOpen),ed=(0,m.Z)(e=>e.setOpen),em=(0,d.Z)(e=>e.setOpen),ef=(0,p.Z)(e=>e.setOpen),ep=!!(null==eo?void 0:eo.isValidity),eh=(0,M.Z)(),ex=(0,c.Z)(e=>e.selectedModalId),{localIsPublic:eg,setLocalIsPublic:eb}=(0,o.Z)(),{updateUserInfoWithDelay:ev}=(0,L.Z)(),ej=(0,s.Z)(e=>e.imageObj),ew=(0,s.Z)(e=>e.updateImageObj),ey=(0,s.Z)(e=>e.setLayerImageObj),eC=(0,s.Z)(e=>e.layerMaskDataUrl),ek=(0,s.Z)(e=>e.setLayerMaskDataUrl),eN=(0,s.Z)(e=>e.resetDefault),eZ=(0,l.useRef)(null),e_=(0,u.Z)(e=>e.prompt),eS=(0,u.Z)(e=>e.style),ez=(0,u.Z)(e=>e.resolution),eM=(0,u.Z)(e=>e.resetDefault),eL=(0,u.Z)(e=>e.defaultImgSrc),eI=(0,u.Z)(e=>e.setDefaultImgSrc),eV=z(),eU=eV.filter(e=>!e.isHidden),eO=eV.find(e=>"flux-dev-lora"===e.value),eT=eV.find(e=>"recraft-v3"===e.value);(0,b.Ox)({enabled:!0,confirm:async()=>(eM(),eN(),"image-to-image"===es&&eI(""),!0)});let eR=G?Y.merge(G):Y,eF=eU;"image-to-image"===es&&(eF=y.vT);let eE=eS;"flux-1-1-pro-ultra"===eS&&(eE="flux-pro-1-1-ultra-portrait");let eD=(0,v.cI)({resolver:(0,x.F)(eR),progressive:!0,defaultValues:{prompt:e_||"",isPublic:eg||!1,resolution:ez||y.DP[0].value,fluxModel:eE||eF[0].value,...K}}),eB=eD.watch("fluxModel"),eP=eF.find(e=>e.value===eB),eH=eD.watch("image"),eG=eD.watch("processModel"),eA=eD.watch("version"),eW=eD.watch("imageModel");switch(es){case"lora":eP=eO;break;case"recraft":eP=eT;break;case"canny-depth":eP=y.ZY.find(e=>e.value===eG);break;case"redux":eP=y._i.find(e=>e.value===eG);break;case"flux-fill":eP=y.NR[0];break;case"new-year-avatar":eP=y.Yr;break;case"new-year-image":eP=y.AD;break;case"flux-realism":eP=y.ow;break;case"flux-avatar":eP=y.yw;break;case"ideogram":eP=y.TB,"turbo"===eA&&(eP=y.Pz);break;case"gemini-flash-edit":eP=y.dc;break;case"ghiblify":eP=y.$d.find(e=>e.idValue===eW)||y.$d[0]}let eJ=y.DP;"ideogram"===es&&(eJ=y.Em);let[eX,eq]=(0,l.useState)(!1),eY=e=>{if(!eo){em(!0);return}if(!ep){ef(!0);return}eD.setValue("isPublic",e),eb(e)},eQ=async e=>{if((0,k.t)(W),!eo){em(!0);return}if(!e.prompt&&et){j.A.error(ei("noPromptInput"));return}if(ec&&ec.expire_date<new Date().getTime()){eu(!0);return}if(!ep&&eP&&(null==eP?void 0:eP.isPaid)){ef(!0);return}if(eP&&eo.credits<(null==eP?void 0:eP.credit)){ed(!0);return}if(["canny-depth","redux","flux-fill","image-to-image","ghiblify"].includes(es)&&!e.image){j.A.error(ei("image-required"));return}if("flux-fill"===es&&!eC){j.A.error(ei("paint-required"));return}try{let[a,r]=e.resolution.split(":"),l=e.prompt;A&&("medal"===es&&(l=A(l,[e.shape,e.material])),"anime"===es&&(l=A(l,[e.animeType]))),eq(!0),ew("loading");let s=[],o=[];if(e.image&&s.push({data:e.image,type:e.image.type}),"flux-fill"===es&&eC){let e=await (0,N.Bo)(eC);s.push({data:e,type:e.type})}s.length>0&&(o=await eh(s));let c={prompt:l,outputPrompt:e.prompt,platformType:(null==eP?void 0:eP.platformType)||25,modelName:e.fluxModel,width:Number(a),height:Number(r),styleName:t,isPublic:e.isPublic?1:0};switch(o.length&&(c={...c,imageUrl:o[0]}),es){case"lora":c={...c,platformType:eO.platformType,modelName:eO.value,hfLora:null==e?void 0:e.loraModel};break;case"recraft":e.color&&e.color.length&&(c={...c,style:ex,platformType:eT.platformType,modelName:eT.value,colors:e.color.map(e=>{let[t,a,r]=(0,_.oo)(e.color);return{r:t,g:a,b:r}})});break;case"canny-depth":c={...c,platformType:eP.platformType,modelName:eP.value,steps:e.steps[0],guidanceScale:e.guidanceScale[0],width:1,height:1};break;case"redux":switch(c={...c,platformType:eP.platformType,modelName:eP.value},eP.value){case"flux-1-schnell-redux":c={...c,steps:e.steps[0]};break;case"flux-1-dev-redux":c={...c,steps:e.steps[0],guidanceScale:e.guidanceScale[0]};break;case"flux-1-pro-redux":case"flux-1-1-pro-redux":c={...c,steps:e.steps[0],guidanceScale:e.guidanceScale[0],width:1,height:1};break;case"flux-1-1-pro-ultra-redux":c={...c,promptMagicStrength:e.imagePromptStrength[0]}}break;case"flux-fill":c={...c,platformType:eP.platformType,modelName:eP.value,imageUrl:o[0],maskImageUrl:o[1]};break;case"new-year-avatar":case"new-year-image":c={...c,platformType:eP.platformType,modelName:eP.value},"new-year-avatar"===es&&(c={...c,negativePrompt:e.negativePrompt,steps:e.numInferenceSteps[0],guidanceScale:e.guidanceScale[0]}),"new-year-image"===es&&(c={...c,prompt:"".concat(e.prompt," ").concat(e.promptTemplate)});break;case"flux-realism":c={...c,platformType:eP.platformType,modelName:eP.value,steps:e.steps[0],guidanceScale:e.guidanceScale[0],strength:e.imagePromptStrength[0]};break;case"flux-avatar":c={...c,platformType:eP.platformType,modelName:eP.value,negativePrompt:e.negativePrompt,steps:e.numInferenceSteps[0],guidanceScale:e.guidanceScale[0]};break;case"ideogram":c={...c,platformType:eP.platformType,modelName:eP.value,style:e.style,imageType:es};break;case"image-to-image":c={...c,platformType:eP.platformType,modelName:eP.value,steps:e.steps[0],guidanceScale:e.guidanceScale[0],imageUrl:o[0],imageType:es};break;case"gemini-flash-edit":c={...c,platformType:y.dc.platformType,modelName:y.dc.value},o[0]&&(c={...c,imageUrl:o[0]});break;case"ghiblify":c={...c,width:1,height:1,prompt:eP.prompt,platformType:eP.platformType,modelName:eP.value,imageUrl:o[0]}}let u=await (0,n.b)(c),{code:d,msg:m,data:f}=u;if((null==u?void 0:u.code)===401){eu(!0);return}if(200!==d||(null==f?void 0:f.status)==="failed"||!(null==f?void 0:f.key))throw Error(m);let{code:p,msg:h,data:x}=await (0,Z.Kj)({taskFunction:n.y,params:u.data.key});if(200!==p||(null==x?void 0:x.status)==="failed"||!(null==x?void 0:x.imageResponseVo))throw Error((null==x?void 0:x.message)||h);let[g,b]=x.imageResponseVo.resolution.split(":");switch(es){case"flux-fill":ek(null),ey(null),ew(null),ew({id:x.imageResponseVo.id.toString(),originalImg:URL.createObjectURL(e.image),src:x.imageResponseVo.url,name:x.imageResponseVo.url.split("/").pop(),resolution:"".concat(g,":").concat(b),prompt:e.prompt,type:"compare-two"});break;case"gemini-flash-edit":ew({id:x.imageResponseVo.id.toString(),src:x.imageResponseVo.url,name:x.imageResponseVo.url.split("/").pop(),resolution:"".concat(g,":").concat(b),prompt:e.prompt,type:"display-one-edit"});break;default:ew({id:x.imageResponseVo.id.toString(),src:x.imageResponseVo.url,name:x.imageResponseVo.url.split("/").pop(),resolution:"".concat(g,":").concat(b),prompt:e.prompt,type:"display-one"})}(0,S.b)(3e3),j.A.success(h),(0,i.G)()}catch(e){if((null==e?void 0:e.message)==="401"){eu(!0);return}j.A.error(e),ew(null)}finally{eq(!1),ev()}};return(0,l.useEffect)(()=>{if("image-to-image"===es&&eL){var e;null===(e=eZ.current)||void 0===e||e.previewImage(eL)}return()=>{}},[es,eL,eZ]),(0,r.jsx)(I.l0,{...eD,children:(0,r.jsx)("div",{className:"relative isolate z-40 flex w-full flex-none rounded-xl bg-gradient-form p-px lg:w-[350px]",children:(0,r.jsxs)("form",{onSubmit:eD.handleSubmit(eQ),className:"flex flex-1 flex-col gap-2.5 rounded-inherit bg-[#141516]/90 p-3 backdrop-blur-xl",children:[et&&(0,r.jsx)(q.Z,{name:"prompt",placeholder:ei("promptPlaceholder")}),el&&el(eD),ee&&(0,r.jsx)(J,{prompt:eD.watch("prompt"),successCb:e=>{eD.setValue("prompt",e)}}),$&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{children:ei("resolution")}),(0,r.jsx)(D.Z,{name:"resolution",options:eJ.map(e=>({...e,leftIcon:(0,r.jsx)("div",{style:{width:e.iconWidth,height:e.iconHeight},className:"rounded-[2px] bg-white/70"})}))})]}),w,ea&&ea(eD),Q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{children:ei("fluxModel")}),(0,r.jsx)(D.Z,{name:"fluxModel",disabled:"text2image"===es&&!!eH,onChange:e=>{if(!eo){em(!0);return}let t=eU.find(t=>t.value===e);if(!ep&&(null==t?void 0:t.isPaid)){ef(!0);return}eD.setValue("fluxModel",e)},options:eF.map(e=>({...e,leftIcon:e.isPaid?(0,r.jsx)(F.Z,{}):(0,r.jsx)(T.Z,{})}))})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{children:ei("transformImages")}),(0,r.jsx)(P.Z,{ref:eZ,name:"image",afterSetImage:"text2image"===es?()=>{"text2image"===es&&eD.setValue("fluxModel","flux-dev")}:void 0,label:er||ei("imageSupport")})]}),H,(0,r.jsxs)("div",{className:"mt-auto flex flex-col gap-2.5",children:[(0,r.jsxs)("div",{className:"mr-auto flex items-center gap-3",children:[(0,r.jsx)(E.Z,{className:"w-fit rounded-full",children:(0,r.jsx)(I.Wi,{control:eD.control,name:"isPublic",render:e=>{let{field:t}=e;return(0,r.jsxs)(I.xJ,{className:"mr-auto flex h-5 items-center gap-1 space-y-0 hover:cursor-pointer hover:opacity-80",children:[(0,r.jsxs)(I.lX,{htmlFor:t.name,className:(0,C.cn)("text-[#889799] hover:cursor-pointer",t.value&&"text-white"),children:[ei("public"),":"]}),(0,r.jsx)(V.Z,{onCheckedChange:eY,checked:t.value})]})}})}),(0,r.jsx)(E.Z,{className:"w-fit rounded-full",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{en&&en(),eD.reset()},className:"flex items-center gap-1 text-white/70 hover:text-white",children:[(0,r.jsx)(R,{})," ",ei("reset")]})})]}),(0,r.jsx)(E.Z,{className:"h-11 bg-white/20 p-1 hover:bg-gradient-main",children:(0,r.jsx)("button",{type:"submit",disabled:"loading"===ej||eX,className:"flex size-full items-center justify-center gap-1.5 rounded-inherit bg-gradient-main text-base font-semibold uppercase text-black",children:"loading"===ej||eX?(0,r.jsx)(U.Z,{className:"size-4"}):(0,r.jsxs)(r.Fragment,{children:[ei("generate"),(0,r.jsx)(O.Z,{}),null==eP?void 0:eP.credit]})})})]})]})})})}},62774:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var r=a(66710),l=a(11046),n=a(69710),i=a(97229),s=a(17967),o=a(38270),c=a(16351),u=a(43191),d=a(6664),m=a(10609),f=a(34014),p=a(23397),h=a(97943),x=a(10906),g=a(68213),b=a(90090);function v(e){let t="/profile/history";switch(e){case"flux-fill":case"canny-depth":case"redux":case"new-year-avatar":case"new-year-image":case"flux-realism":case"flux-avatar":case"ideogram":case"image-to-image":case"gemini-flash-edit":return"".concat(t,"?filter=").concat(e);default:return t}}function j(e){let{children:t,onClick:a,disabled:l}=e;return(0,r.jsx)("button",{type:"button",className:(0,f.cn)("flex-center h-8 flex-1 rounded bg-white/10 hover:bg-white/10 lg:bg-transparent",l&&"cursor-not-allowed"),onClick:a,disabled:l,children:t})}function w(e){let{imgSrc:t,resolution:a,onClick:l}=e;return(0,r.jsxs)("div",{className:"group relative flex aspect-square size-[168px] items-center justify-center overflow-hidden rounded bg-white/5 hover:cursor-pointer lg:size-[102px]",onClick:l,children:[(0,r.jsx)("img",{src:t,alt:"imgSrc",className:"max-h-full max-w-full bg-black transition-all duration-200 group-hover:scale-110",loading:"lazy",decoding:"async",fetchPriority:"high"}),(0,r.jsx)("div",{className:"flex-center absolute bottom-0.5 left-0.5 h-5 rounded-[2px] border border-[#A5A5A5]/40 px-1 text-sm text-white backdrop-blur-sm",children:a})]})}function y(e){let{imageNum:t,onClickImage:a}=e,y=(0,l.useContext)(b.g),C=(0,i.Z)(e=>e.updateImageObj),k=(0,i.Z)(e=>e.setLayerImageObj),N=(0,d.useTranslations)("flux-ai.uiForm"),Z=(0,o.Z)(e=>e.auth),_=(0,s.Z)(e=>e.setOpen),S=(0,x.tv)(),[z,M]=(0,l.useState)(1),{total:L,data:I,isLoading:V}=(0,n.Z)(z,t,["flux-fill","canny-depth","redux","new-year-avatar","new-year-image","flux-realism","flux-avatar","ideogram","image-to-image","gemini-flash-edit","ghiblify"].includes(y)?y:"not-flux-fill"),U=!!I&&I.length>0,O=e=>{let[t,r]=e.resolution.split("x");switch(y){case"flux-fill":k(null),C({id:e.id.toString(),src:e.url,originalImg:e.sourceImageUrl,name:e.url.split("/").pop(),resolution:"".concat(t,":").concat(r),prompt:e.prompt,type:"compare-two"});break;case"gemini-flash-edit":C({id:e.id.toString(),src:e.url,name:e.url.split("/").pop(),resolution:"".concat(t,":").concat(r),prompt:e.prompt,type:"display-one-edit"});break;default:C({id:e.id.toString(),src:e.url,name:e.url.split("/").pop(),resolution:"".concat(t,":").concat(r),prompt:e.prompt,type:"display-one"})}a&&a()};return(0,r.jsxs)("div",{className:"flex w-full flex-1 flex-col items-center gap-3 text-balance text-center lg:flex-none",children:[(0,r.jsx)("div",{className:"text-white/40",children:N("history")}),(0,r.jsxs)("div",{className:(0,f.cn)("grid grid-cols-2 gap-3",!U&&"flex items-center justify-center",V&&"grid"),children:[V&&(0,p._)(t).map(e=>(0,r.jsx)("div",{className:"size-[168px] animate-pulse rounded bg-white/20 lg:size-[102px]"},e)),!V&&!U&&(0,r.jsx)("div",{className:"inset-0 size-full text-white/40",children:N("noHistory")}),!V&&U&&I.map(e=>(0,r.jsx)(w,{imgSrc:e.thumbnailUrl,resolution:(0,h.MI)(e.resolution,m.DP),onClick:()=>O(e)},e.id))]}),(0,r.jsxs)("div",{className:(0,f.cn)("mt-auto flex w-full gap-3",!U&&"hidden"),children:[(0,r.jsx)(j,{onClick:()=>M(z-1),disabled:1===z,children:(0,r.jsx)(c.Z,{strokeWidth:1})}),(0,r.jsx)(j,{onClick:()=>M(z+1),disabled:!!L&&z===Math.ceil(L/t),children:(0,r.jsx)(u.Z,{strokeWidth:1})})]}),(0,r.jsx)(g.Z,{className:(0,f.cn)("w-full rounded-lg hover:bg-white/20",!U&&"hidden"),children:(0,r.jsxs)("button",{type:"button",onMouseEnter:()=>{S.prefetch(v(y))},onClick:()=>{if(Z&&Z.expire_date<Date.now()){_(!0);return}S.push(v(y))},className:"flex-center relative size-full gap-1",children:[N("checkAll")," ",(0,r.jsx)(u.Z,{strokeWidth:1,className:"absolute right-0 size-5"})]})})]})}},33693:function(e,t,a){"use strict";a.d(t,{default:function(){return p}});var r=a(66710),l=a(11046),n=a(97229),i=a(74145),s=a(97027),o=a(6664),c=a(34014),u=a(18603);function d(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",fill:"none",...e,children:(0,r.jsx)("path",{d:"M3.04688 12.5938C3.86739 12.5938 4.6543 12.9197 5.23449 13.4999C5.81468 14.0801 6.14063 14.867 6.14063 15.6875H4.73438C4.28682 15.6875 3.8576 15.5097 3.54113 15.1932C3.22466 14.8768 3.04688 14.4476 3.04688 14V12.5938ZM8.10938 8.9375C8.55693 8.9375 8.98615 9.11529 9.30262 9.43176C9.61909 9.74822 9.79688 10.1774 9.79688 10.625V14C9.79688 14.4476 9.61909 14.8768 9.30262 15.1932C8.98615 15.5097 8.55693 15.6875 8.10938 15.6875H6.98438C6.98438 14.6432 6.56953 13.6417 5.83111 12.9033C5.09268 12.1648 4.09116 11.75 3.04688 11.75V10.625C3.04688 10.1774 3.22466 9.74822 3.54113 9.43176C3.8576 9.11529 4.28682 8.9375 4.73438 8.9375H8.10938ZM14.5444 12.0577C14.6069 12.0567 14.669 12.0681 14.7271 12.0912C14.7852 12.1142 14.8382 12.1485 14.883 12.1921C14.9279 12.2357 14.9636 12.2877 14.9884 12.3451C15.0131 12.4026 15.0262 12.4643 15.027 12.5268V12.7153C15.0151 13.5138 14.6868 14.275 14.1141 14.8317C13.5414 15.3884 12.7712 15.6949 11.9726 15.6841H11.3291C11.2628 15.6921 11.1955 15.6859 11.1318 15.666C11.068 15.646 11.0092 15.6128 10.9592 15.5685C10.9092 15.5241 10.8692 15.4697 10.8418 15.4088C10.8144 15.3479 10.8003 15.2818 10.8003 15.215C10.8003 15.1482 10.8144 15.0821 10.8418 15.0212C10.8692 14.9603 10.9092 14.9059 10.9592 14.8615C11.0092 14.8172 11.068 14.784 11.1318 14.764C11.1955 14.7441 11.2628 14.7379 11.3291 14.7459H11.9726C12.5193 14.7541 13.0469 14.5449 13.4393 14.1642C13.8317 13.7835 14.0568 13.2625 14.0651 12.7158V12.5268C14.0669 12.4012 14.1183 12.2814 14.2081 12.1935C14.2979 12.1056 14.4187 12.0568 14.5444 12.0577ZM13.4964 3.45312C13.9067 3.45312 14.3001 3.6161 14.5902 3.90619C14.8803 4.19629 15.0433 4.58974 15.0433 5V9.5C15.0433 9.91026 14.8803 10.3037 14.5902 10.5938C14.3001 10.8839 13.9067 11.0469 13.4964 11.0469H10.6839V9.78125C10.684 9.27778 10.4911 8.79342 10.145 8.42776C9.79894 8.0621 9.3259 7.84293 8.82319 7.81531L8.71519 7.8125H7.44956V5C7.44956 4.58974 7.61254 4.19629 7.90263 3.90619C8.19273 3.6161 8.58618 3.45312 8.99644 3.45312H13.4964ZM12.0986 5C12.0634 5 12.0291 5.01093 12.0004 5.03128C11.9717 5.05164 11.95 5.08041 11.9383 5.11362L11.7983 5.54394C11.7547 5.67479 11.6813 5.79367 11.5837 5.89113C11.4862 5.98859 11.3672 6.06193 11.2363 6.10531L10.8054 6.24481L10.797 6.24706C10.7638 6.25871 10.735 6.28039 10.7146 6.30911C10.6943 6.33783 10.6833 6.37217 10.6833 6.40737C10.6833 6.44258 10.6943 6.47692 10.7146 6.50564C10.735 6.53436 10.7638 6.55604 10.797 6.56769L11.2273 6.70719C11.3359 6.74319 11.436 6.8 11.5226 6.87369L11.5851 6.93162C11.6666 7.02219 11.751 7.15269 11.7898 7.26913L11.9299 7.69888C11.9415 7.7321 11.9632 7.76089 11.9919 7.78125C12.0206 7.80162 12.055 7.81256 12.0902 7.81256C12.1254 7.81256 12.1597 7.80162 12.1885 7.78125C12.2172 7.76089 12.2389 7.7321 12.2505 7.69888L12.3911 7.26856C12.4341 7.13707 12.5074 7.01752 12.6051 6.91961C12.7028 6.82169 12.8222 6.74815 12.9536 6.70494L13.3834 6.56544C13.4166 6.55379 13.4454 6.53211 13.4658 6.50339C13.4861 6.47467 13.4971 6.44033 13.4971 6.40513C13.4971 6.36992 13.4861 6.33558 13.4658 6.30686C13.4454 6.27814 13.4166 6.25646 13.3834 6.24481L12.9531 6.10531C12.6943 6.01588 12.4918 5.81281 12.4029 5.55406L12.399 5.54394L12.2589 5.11362C12.2473 5.08041 12.2256 5.05164 12.1969 5.03128C12.1682 5.01093 12.1338 5 12.0986 5ZM6.31444 3.53075C6.37847 3.5263 6.44274 3.53507 6.50324 3.55652C6.56374 3.57797 6.61919 3.61164 6.66612 3.65543C6.71306 3.69921 6.75048 3.75219 6.77607 3.81106C6.80166 3.86993 6.81487 3.93343 6.81487 3.99762C6.81487 4.06182 6.80166 4.12532 6.77607 4.18419C6.75048 4.24306 6.71306 4.29604 6.66612 4.33982C6.61919 4.38361 6.56374 4.41728 6.50324 4.43873C6.44274 4.46018 6.37847 4.46895 6.31444 4.4645H5.54269C4.99684 4.45517 4.46964 4.66302 4.07702 5.04235C3.68441 5.42167 3.45853 5.94141 3.44906 6.48725V7.11331C3.44906 7.24124 3.39824 7.36392 3.30779 7.45438C3.21733 7.54484 3.09464 7.59566 2.96672 7.59566C2.83879 7.59566 2.71611 7.54484 2.62565 7.45438C2.53519 7.36392 2.48438 7.24124 2.48438 7.11331V6.48894C2.49067 6.09383 2.57481 5.70384 2.73198 5.34129C2.88914 4.97873 3.11624 4.65072 3.4003 4.37602C3.68435 4.10131 4.01978 3.88531 4.38739 3.74037C4.75501 3.59543 5.14759 3.52439 5.54269 3.53131H6.31444V3.53075Z",fill:"currentColor"})})}function m(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",fill:"none",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 3.5H7.5V4.25H9V14.75H7.5V15.5H9.75V14H14.25C15.0784 14 15.75 13.3284 15.75 12.5V6.5C15.75 5.67157 15.0784 5 14.25 5H9.75V3.5ZM3 6.5C3 5.67157 3.67157 5 4.5 5H8.25V8.74959C7.87346 8.62569 6.97612 8.67818 6.3775 9.87542L6.30881 9.90112C5.29892 10.2784 3.62277 10.9046 4.5025 13.2506H8.25V14H4.5C3.67157 14 3 13.3284 3 12.5V6.5ZM5.25234 7.25059C5.25234 7.6648 4.91656 8.00059 4.50234 8.00059C4.08813 8.00059 3.75234 7.6648 3.75234 7.25059C3.75234 6.83637 4.08813 6.50059 4.50234 6.50059C4.91656 6.50059 5.25234 6.83637 5.25234 7.25059ZM14.0819 9.81499C14.3092 9.67525 14.3092 9.32592 14.0819 9.18618L11.0137 7.29977C10.7864 7.16003 10.5023 7.3347 10.5023 7.61417V11.387C10.5023 11.6665 10.7864 11.8411 11.0137 11.7014L14.0819 9.81499Z",fill:"currentColor"})})}var f=a(10906);function p(e){let{imgSrc:t,contentPosition:a="top",className:p}=e,h=(0,o.useTranslations)("flux-ai.uiForm.display"),x=(0,f.tv)(),[g,b]=(0,l.useState)(!1),v=(0,i.Z)(e=>e.setDefaultImgSrc),j=(0,n.Z)(e=>e.updateImageObj),w=e=>{j(null),v(t),x.push(e),b(!1)},y=[{title:h("image-to-image"),type:"image",href:"/flux-ai-image-to-image",icon:(0,r.jsx)(d,{})},{title:h("image-to-video"),type:"video",href:"/flux-video-ai",icon:(0,r.jsx)(m,{})}];return(0,r.jsxs)(u.J2,{open:g,onOpenChange:b,children:[(0,r.jsx)(u.xo,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",className:(0,c.cn)("mr-auto flex h-10 min-h-10 items-center gap-1 rounded-lg bg-white/5 px-2",p),children:[(0,r.jsx)("span",{className:"text-sm font-semibold",children:h("image-tranform")}),(0,r.jsx)(s.Z,{className:(0,c.cn)("size-5 rotate-0 text-white/40 transition-transform duration-150",g&&"-rotate-180")})]})}),(0,r.jsxs)(u.yk,{side:a,className:"z-50 flex w-[--radix-popover-trigger-width] flex-col gap-3 rounded-lg border-none bg-[#202122] p-3 text-center text-base font-normal leading-4",children:[(0,r.jsx)(u.kq.Eh,{className:"fill-card-black"}),(0,r.jsx)("ul",{className:"flex flex-col gap-3",children:y.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",onClick:()=>w(e.href),className:"flex items-center gap-2 text-sm opacity-70 hover:opacity-100",children:[(0,r.jsx)("span",{children:e.icon}),e.title]})},e.href))})]})]})}},2097:function(e,t,a){"use strict";var r=a(66710),l=a(11046),n=a(97229),i=a(32438),s=a(19429),o=a(17967),c=a(38270),u=a(20521),d=a(75708),m=a(66893),f=a(25541),p=a(86370),h=a(10906),x=a(68213);let g=["image/jpg","image/jpeg","image/png","image/webp"];t.Z=(0,l.forwardRef)((e,t)=>{let{name:a,afterSetImage:b,label:v,onImagePreview:j,onDelete:w}=e,y=(0,h.jD)(),C=(0,m.Gc)(),k=(0,c.Z)(e=>e.userInfo),N=(0,c.Z)(e=>e.auth),Z=(0,s.Z)(e=>e.setLocalRedirectUrl),_=(0,i.Z)(e=>e.setOpen),S=(0,o.Z)(e=>e.setOpen),z=(0,n.Z)(e=>e.setUploadImageObj),M=(0,n.Z)(e=>e.imageFormSrc),L=(0,n.Z)(e=>e.setImageFormSrc),[I,V]=(0,l.useState)(null),U=(0,l.useRef)(null),O=e=>{if(!k){Z(y),_(!0),e.preventDefault();return}N&&N.expire_date<Date.now()&&(S(!0),e.preventDefault())},T=async e=>{if(e){if("string"==typeof e){V(e);let t=await (0,f.QL)(e);C.setValue(a,t);return}let t=new FileReader;t.onloadend=()=>{V(t.result),j&&j(t.result)},t.readAsDataURL(e),b&&b()}else V(null),C.setValue(a,null)},R=()=>{V(null),z(null),C.setValue(a,null),U.current&&(U.current.value=""),w&&w()},F=e=>{e.preventDefault(),e.stopPropagation(),R()},E=e=>{var t;let r=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;r&&(T(r),C.setValue(a,r))};return(0,l.useEffect)(()=>(M&&(async()=>{V(M),C.setValue(a,await (0,f.QL)(M)),b&&b(),M&&L(null)})(),()=>{}),[a,C,V,b,M,L]),(0,l.useImperativeHandle)(t,()=>({removeImage:R,previewImage:T}),[]),(0,r.jsx)(x.Z,{className:"flex h-[72px] flex-row justify-between p-1",children:(0,r.jsx)(p.Wi,{control:C.control,name:a,render:()=>(0,r.jsxs)(p.xJ,{className:"w-full space-y-0",children:[(0,r.jsx)(p.lX,{onClick:O,className:"flex-1 cursor-pointer",children:(0,r.jsxs)("div",{className:"flex flex-1 justify-between",children:[(0,r.jsx)("div",{className:"flex-center relative size-16 rounded bg-white/5",children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",onClick:F,className:"absolute -left-2 -top-2 size-5 rounded-full bg-white/20 backdrop-blur-lg",children:(0,r.jsx)(u.Z,{className:"size-full"})}),(0,r.jsx)("img",{src:I,alt:"Upload",className:"max-h-full max-w-full"})]}):(0,r.jsx)(d.Z,{className:"size-6 text-white/40"})}),(0,r.jsx)("div",{className:"flex flex-1 flex-col items-center justify-center whitespace-pre-line text-center text-sm text-white/40",children:v})]})}),(0,r.jsx)(p.NI,{children:(0,r.jsx)("input",{type:"file",accept:g.join(","),className:"hidden",ref:U,required:!1,onChange:E})})]})})})})},61719:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(66710),l=a(20521),n=a(66893),i=a(34014),s=a(86370),o=a(94672),c=a(2278),u=a(35009);function d(e){let{name:t,placeholder:a,className:d,showBtns:m=!0}=e,f=(0,n.Gc)();return(0,r.jsx)(s.Wi,{control:f.control,name:t,render:e=>{let{field:t}=e;return(0,r.jsx)(s.xJ,{className:"space-y-0",children:(0,r.jsx)(s.lX,{htmlFor:t.name,className:"items-center p-0",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.g,{onChange:t.onChange,value:t.value,placeholder:a,className:(0,i.cn)("h-[160px] resize-none rounded-lg border-none bg-black p-3 text-white/70 placeholder:text-white/40",d)}),m&&(0,r.jsxs)("div",{className:"absolute bottom-1 right-1 flex h-8 items-center gap-2.5 rounded bg-white/5 px-2 py-1.5",children:[(0,r.jsx)(u.default,{content:t.value,className:"text-white/70"}),(0,r.jsx)(o.Separator,{orientation:"vertical",className:"h-full w-px bg-main-gray"}),(0,r.jsx)("button",{type:"button",onClick:()=>t.onChange(""),children:(0,r.jsx)(l.Z,{className:"size-5 text-white/70"})})]})]})})})}})}},10906:function(e,t,a){"use strict";a.d(t,{jD:function(){return s},rU:function(){return n},tv:function(){return o}});var r=a(42462),l=a(28311);let{Link:n,redirect:i,usePathname:s,useRouter:o}=(0,r.iV)({locales:l.k1,localePrefix:"as-needed"})},18296:function(e,t,a){"use strict";var r=a(94740);function l(e){let{children:t}=e;return t}t.Z=(0,r.default)(()=>Promise.resolve(l),{ssr:!1})},86947:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(66710);function l(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e,children:[(0,r.jsx)("circle",{cx:8,cy:8,r:8,fill:"url(#a)"}),(0,r.jsx)("g",{filter:"url(#b)",children:(0,r.jsx)("circle",{cx:8,cy:8,r:6,fill:"url(#c)"})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"a",x1:22.4,x2:-8,y1:1.6,y2:17.6,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#4EE794"}),(0,r.jsx)("stop",{offset:.455,stopColor:"#fff"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F32FF7"})]}),(0,r.jsxs)("linearGradient",{id:"c",x1:18.8,x2:-4,y1:3.2,y2:15.2,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#4EE794"}),(0,r.jsx)("stop",{offset:.455,stopColor:"#fff"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F32FF7"})]}),(0,r.jsxs)("filter",{id:"b",width:12,height:12,x:2,y:2,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feMorphology",{in:"SourceAlpha",radius:.1,result:"effect1_innerShadow_257_10552"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:.7}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:-1,k3:1,operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0.394148 0 0 0 0 0.698665 0 0 0 0 0.561632 0 0 0 1 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_257_10552"})]})]})]})}},36999:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(66710);function l(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:15,height:15,viewBox:"0 0 15 15",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M8.81632 10.0557H5.76204L5.17026 12.4333C5.01468 13.0583 4.47784 13.5 3.85756 13.5C2.95848 13.5 2.3184 12.6022 2.5464 11.7025L4.61312 3.54711C4.7877 2.85818 5.4214 2.41926 6.08258 2.51243L6.1075 2.51595H12.1646C12.9073 2.51595 13.5 3.15101 13.5 3.92207C13.5 4.69313 12.9073 5.3282 12.1646 5.3282H7.62445C7.22004 5.3282 6.86613 5.61975 6.76183 6.03882C6.6105 6.64681 7.03773 7.24341 7.62445 7.24341H8.81632C9.55902 7.24341 10.1517 7.87847 10.1517 8.64953C10.1517 9.42059 9.55902 10.0557 8.81632 10.0557Z",fill:"url(#paint0_linear_486_8311)"}),(0,r.jsx)("path",{d:"M12.6552 8.74479C12.6552 9.20084 12.3102 9.57065 11.8852 9.57065C11.4602 9.57065 11.1152 9.20084 11.1152 8.74479C11.1152 8.28874 11.4602 7.91893 11.8852 7.91893C12.3102 7.91893 12.6552 8.28874 12.6552 8.74479Z",fill:"url(#paint1_linear_486_8311)"}),(0,r.jsx)("path",{d:"M10.1853 11.4825C10.1853 11.7484 9.98434 11.9639 9.73655 11.9639C9.48876 11.9639 9.28776 11.7484 9.28776 11.4825C9.28776 11.2165 9.48877 11.001 9.73655 11.001C9.98433 11.001 10.1853 11.2165 10.1853 11.4825Z",fill:"url(#paint2_linear_486_8311)"}),(0,r.jsx)("path",{d:"M7.43029 12.7219C7.43029 12.8882 7.30486 13.0226 7.15035 13.0226C6.99481 13.0226 6.86967 12.8879 6.86967 12.7219C6.86967 12.5559 6.99481 12.4213 7.15035 12.4213C7.30486 12.4213 7.43029 12.5556 7.43029 12.7219Z",fill:"url(#paint3_linear_486_8311)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_486_8311",x1:-3.60825,y1:1.81813,x2:11.9561,y2:-.763411,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#767676"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F1EBEB"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_486_8311",x1:-3.60825,y1:1.81813,x2:11.9561,y2:-.763411,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#767676"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F1EBEB"})]}),(0,r.jsxs)("linearGradient",{id:"paint2_linear_486_8311",x1:-3.60825,y1:1.81813,x2:11.9561,y2:-.763411,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#767676"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F1EBEB"})]}),(0,r.jsxs)("linearGradient",{id:"paint3_linear_486_8311",x1:-3.60825,y1:1.81813,x2:11.9561,y2:-.763411,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#767676"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F1EBEB"})]})]})]})}},37708:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(66710);function l(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:14,viewBox:"0 0 13 14",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M3.89871 13.5L0.216278 0.5H3.72979L7.41222 13.5H3.89871ZM3.89871 13.5L9.20276 0.5H12.7163L7.41222 13.5H3.89871Z",fill:"url(#paint0_linear_510_19875)"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.72888 13.2041L3.60544 13.5H7.70731L7.63359 13.2455L12.9506 0.5H9.02858L6.02647 7.69647L3.9422 0.5H0.049469L3.72888 13.2041ZM3.96109 13.2248H7.40138L12.5949 0.775223H9.15461L5.99164 8.35728L3.79569 0.775223H0.355399L3.96109 13.2248Z",fill:"#FFE600"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_510_19875",x1:6.93925,y1:-2.93523,x2:6.93925,y2:20.0561,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FFE37E"}),(0,r.jsx)("stop",{offset:1,stopColor:"#A17F03"})]})})]})}},12435:function(e,t,a){"use strict";var r=a(66710),l=a(11046),n=a(71683),i=a(58688),s=a(34014);t.Z=l.memo(function(e){let{firstImage:t="",secondImage:a="",className:o,firstImageClassName:c,secondImageClassname:u,initialSliderPercentage:d=50,slideMode:m="hover",showHandlebar:f=!0,autoplay:p=!1,autoplayDuration:h=5e3,showTransparentChessboard:x=!1}=e,[g,b]=(0,l.useState)(d),[v,j]=(0,l.useState)(!1),[w,y]=(0,l.useState)({width:" 100%",height:" 100%"}),C=(0,l.useRef)(null),[k,N]=(0,l.useState)(!1),Z=(0,l.useRef)(null),_=(0,l.useCallback)(()=>{if(!p)return;let e=Date.now(),t=()=>{let a=(Date.now()-e)%(2*h)/h;b(a<=1?100*a:(2-a)*100),Z.current=setTimeout(t,16)};t()},[p,h]),S=(0,l.useCallback)(()=>{Z.current&&(clearTimeout(Z.current),Z.current=null)},[]);(0,l.useEffect)(()=>(_(),()=>S()),[_,S]);let z=(0,l.useCallback)(e=>{"drag"===m&&j(!0)},[m]),M=(0,l.useCallback)(()=>{"drag"===m&&j(!1)},[m]),L=(0,l.useCallback)(e=>{if(C.current&&("hover"===m||"drag"===m&&v)){let t=C.current.getBoundingClientRect(),a=(e-t.left)/t.width*100;requestAnimationFrame(()=>{b(Math.max(0,Math.min(100,a)))})}},[m,v]),I=(0,l.useCallback)(e=>z(e.clientX),[z]),V=(0,l.useCallback)(()=>M(),[M]),U=(0,l.useCallback)(e=>L(e.clientX),[L]),O=(0,l.useCallback)(e=>{p||z(e.touches[0].clientX)},[z,p]),T=(0,l.useCallback)(()=>{p||M()},[M,p]),R=(0,l.useCallback)(e=>{p||L(e.touches[0].clientX)},[L,p]);return(0,r.jsxs)("div",{ref:C,className:(0,s.cn)("h-full w-full cursor-col-resize overflow-hidden",x&&"bg-transparent-chessboard",o),style:{width:w.width,height:w.height,position:"relative"},onMouseMove:U,onMouseLeave:function(){N(!1),"hover"===m&&b(d),"drag"===m&&j(!1),_()},onMouseEnter:function(){N(!0),S()},onMouseDown:I,onMouseUp:V,onTouchStart:O,onTouchEnd:T,onTouchMove:R,children:[(0,r.jsx)(n.M,{initial:!1,children:(0,r.jsx)(i.E.div,{className:"absolute top-0 z-30 m-auto h-full w-px bg-gradient-main",style:{left:"".concat(g,"%"),top:"0",zIndex:40},transition:{duration:0},children:f&&(0,r.jsx)("div",{className:"absolute -right-2.5 top-1/2 z-30 flex h-12 w-3 -translate-x-1 -translate-y-1/2 items-center justify-center bg-gradient-main shadow-lg",children:(0,r.jsx)("div",{className:"h-4 w-4 text-black"})})})}),(0,r.jsx)("div",{className:"pointer-events-none relative z-20 h-full w-full overflow-hidden",children:(0,r.jsx)(n.M,{initial:!1,children:t?(0,r.jsx)(i.E.div,{className:(0,s.cn)("absolute inset-0 z-20 h-full w-full flex-shrink-0 select-none overflow-hidden",c),style:{clipPath:"inset(0 ".concat(100-g,"% 0 0)")},transition:{duration:0},children:(0,r.jsx)("img",{alt:"first image",src:t,onLoad:e=>{y({width:e.currentTarget.width,height:e.currentTarget.height})},className:(0,s.cn)("absolute inset-0 left-1/2 top-1/2 z-20 max-h-full max-w-full flex-shrink-0 -translate-x-1/2 -translate-y-1/2 select-none",c),draggable:!1})}):null})}),(0,r.jsx)(n.M,{initial:!1,children:a?(0,r.jsx)(i.E.img,{className:(0,s.cn)("absolute inset-0 left-1/2 top-1/2 z-[19] max-h-full max-w-full -translate-x-1/2 -translate-y-1/2 select-none",u),alt:"second image",src:a,draggable:!1}):null})]})})},18603:function(e,t,a){"use strict";a.d(t,{J2:function(){return s},kq:function(){return n},xo:function(){return o},yk:function(){return c}});var r=a(66710),l=a(11046),n=a(5530),i=a(34014);let s=n.fC,o=n.xz,c=l.forwardRef((e,t)=>{let{className:a,align:l="center",sideOffset:s=4,...o}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsx)(n.VY,{ref:t,align:l,sideOffset:s,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});c.displayName=n.VY.displayName},48894:function(e,t,a){"use strict";a.d(t,{i:function(){return s}});var r=a(66710),l=a(11046),n=a(93640),i=a(34014);let s=l.forwardRef((e,t)=>{let{className:a,trackClassName:l,rangeClassName:s,thumbClassName:o,...c}=e;return(0,r.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",a),...c,children:[(0,r.jsx)(n.fQ,{className:(0,i.cn)("relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",l),children:(0,r.jsx)(n.e6,{className:(0,i.cn)("absolute h-full bg-primary",s)})}),(0,r.jsx)(n.bU,{className:(0,i.cn)("block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o)})]})});s.displayName=n.fC.displayName},91424:function(e,t,a){"use strict";a.d(t,{h:function(){return l}});var r=a(6664);let l=[{name:"Recraft V3 Raw",id:"any"},{name:"Photorealism",id:"realistic_image"},{name:"Illustration",id:"digital_illustration"},{name:"Black & white",id:"realistic_image/b_and_w"},{name:"Hard flash",id:"realistic_image/hard_flash"},{name:"HDR",id:"realistic_image/hdr"},{name:"Natural light",id:"realistic_image/natural_light"},{name:"Studio photo",id:"realistic_image/studio_portrait"},{name:"Enterprise",id:"realistic_image/enterprise"},{name:"Motion blur",id:"realistic_image/motion_blur"},{name:"Pixel art",id:"digital_illustration/pixel_art"},{name:"Hand drawn",id:"digital_illustration/hand_drawn"},{name:"Grain",id:"digital_illustration/grain"},{name:"Infantile sketch",id:"digital_illustration/infantile_sketch"},{name:"2D art 1",id:"digital_illustration/2d_art_poster"},{name:"Handmade 3d",id:"digital_illustration/handmade_3d"},{name:"Outline",id:"digital_illustration/hand_drawn_outline"},{name:"Carvings",id:"digital_illustration/engraving_color"},{name:"2D art 2",id:"digital_illustration/2d_art_poster_2"}];t.Z=()=>{let e=(0,r.useTranslations)("recraft-models");return l.map((t,a)=>({id:t.id,name:e("".concat(t.name,".name")),imageSrc:"https://c.topshort.org/fluxai/recraft_ai/style/".concat(a+1,".webp")}))}},78162:function(e,t,a){"use strict";a.d(t,{e:function(){return l}});var r=a(11046);let l=["webp","png","jpg"];t.Z=()=>{let[e,t]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null);return{convertAndDownload:(0,r.useCallback)(async e=>{let{imageUrl:a,type:r,imageName:n}=e;t(!0),l(null);try{let e=await fetch(a),t=await e.blob(),l=new Image;l.src=URL.createObjectURL(t),await new Promise(e=>{l.onload=e});let i=document.createElement("canvas");i.width=l.width,i.height=l.height;let s=i.getContext("2d");if(!s)throw Error("Unable to create canvas context");s.drawImage(l,0,0);let o="image/".concat("jpg"===r?"jpeg":r),c="jpg"===r?.8:1,u=i.toDataURL(o,c),d=document.createElement("a");d.href=u,d.download="".concat(n,".").concat(r),document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(e){l(e instanceof Error?e.message:"An unknown error occurred")}finally{t(!1)}},[]),isLoading:e,error:a}}},28311:function(e,t,a){"use strict";a.d(t,{Mj:function(){return n},k1:function(){return i}});var r=a(49317),l=a(67577);let n=[{code:"en-US",lang:"en",backendValue:"en",label:"English"},{code:"ja-JP",lang:"ja",backendValue:"jp",label:""},{code:"pt-BR",lang:"pt",backendValue:"pt",label:"Portugu\xeas"},{code:"es-ES",lang:"es",backendValue:"es",label:"Espa\xf1ol"},{code:"de-DE",lang:"de",backendValue:"de",label:"Deutsch"},{code:"ru-RU",lang:"ru",backendValue:"ru",label:""},{code:"fr-FR",lang:"fr",backendValue:"fr",label:"Fran\xe7ais"},{code:"zh-CN",lang:"cn",backendValue:"zh",label:""},{code:"zh-TW",lang:"tw",backendValue:"tw",label:""},{code:"ko-KR",lang:"ko",backendValue:"ko",label:""},{code:"th-TH",lang:"th",backendValue:"th",label:""},{code:"vi-VN",lang:"vi",backendValue:"vi",label:"Ting Vit"},{code:"ar-SA",lang:"ar",backendValue:"ar",label:""}],i=n.map(e=>e.lang);(0,l.cF)(async e=>{let{locale:t}=e;return i.includes(t)||(0,r.notFound)(),{messages:(await a(37715)("./".concat(t,".json"))).default}})},34014:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(82829),l=a(72115);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}},23397:function(e,t,a){"use strict";a.d(t,{_:function(){return r}});let r=e=>Array.from({length:e},(e,t)=>t+1)},25541:function(e,t,a){"use strict";a.d(t,{QL:function(){return s},Sv:function(){return n},Td:function(){return i},oN:function(){return o}});var r=a(85687),l=a(10609);function n(e,t){let a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){if(200===a.status||304===a.status){let e=a.response,r=URL.createObjectURL(e);console.log("fileurl:".concat(r));let l=document.createElement("a");l.href=r,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)}},a.send()}async function i(e){var t;let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch image");let r=await a.blob(),l=e.split("/"),n=l[l.length-1],i=null===(t=n.split(".").pop())||void 0===t?void 0:t.toLowerCase(),s="image/png";return"jpg"===i||"jpeg"===i?s="image/jpeg":"gif"===i?s="image/gif":"bmp"===i?s="image/bmp":"webp"===i&&(s="image/webp"),new File([r],n,{type:s})}async function s(e){var t;let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch file");let r=await a.blob(),l=e.split("/"),n=l[l.length-1],i=null===(t=n.split(".").pop())||void 0===t?void 0:t.toLowerCase(),s="";if("jpg"===i||"jpeg"===i)s="image/jpeg";else if("png"===i)s="image/png";else if("gif"===i)s="image/gif";else if("bmp"===i)s="image/bmp";else if("webp"===i)s="image/webp";else if("mp4"===i)s="video/mp4";else if("webm"===i)s="video/webm";else if("ogg"===i)s="video/ogg";else if("mov"===i)s="video/quicktime";else throw Error("Unsupported file type");return new File([r],n,{type:s})}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.If,a=1048576*t;if(e.every(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.size)&&e.data.size<=a}))return e;let n=e.map(e=>e.data&&e.data.size>a?(0,r.Z)(e.data,{maxSizeMB:t,useWebWorker:!0}).then(t=>({...e,data:t})):Promise.resolve(e));return await Promise.all(n)}},97943:function(e,t,a){"use strict";function r(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=10**a;return(Math.round(e*r)-Math.round(t*r))/r}function l(e,t){let[a,r]=e.split("x").map(Number);if(Number.isNaN(a)||Number.isNaN(r)||a<=0||r<=0)throw Error("Invalid resolution format");let l=a/r,n=1/0,i="";return t.forEach(e=>{let[t,a]=e.value.split(":").map(Number),r=Math.abs(t/a-l);r<n&&(n=r,i=e.value)}),i}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/1024**a).toFixed(t<0?0:t))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a])}a.d(t,{MI:function(){return l},fC:function(){return r},td:function(){return n}})},67698:function(e,t,a){"use strict";a.d(t,{b:function(){return l}});var r=a(85208);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=Date.now()+e,a={startVelocity:50,spread:360,ticks:80,zIndex:0},l=(e,t)=>Math.random()*(t-e)+e,n=window.setInterval(()=>{let i=t-Date.now();if(i<=0){clearInterval(n);return}let s=i/e*75;(0,r.Z)({...a,particleCount:s,origin:{x:l(.1,.3),y:Math.random()-.2}}),(0,r.Z)({...a,particleCount:s,origin:{x:l(.7,.9),y:Math.random()-.2}})},250)}},50146:function(e,t,a){"use strict";a.d(t,{b:function(){return n},y:function(){return i}});var r=a(42116),l=a(4332);async function n(e){return await (0,l.LJ)("/image/generator4login/async",{method:"POST",body:JSON.stringify(e)})}let i=async e=>{let t=(0,r.G7)("/image/getResult/".concat(e),{...l.CB});return await (0,l.LJ)(t)}},69710:function(e,t,a){"use strict";a.d(t,{G:function(){return m}});var r=a(52218),l=a(10609),n=a(16779),i=a(4332);let s="/image/myList",o=[...l.XJ,...l.ZY,...l._i,...l.NR].map(e=>e.value),c=l.ZY.map(e=>e.value),u=l._i.map(e=>e.value),d=o.filter(e=>"flux-1-pro-fill"!==e),m=()=>{(0,r.JG)(e=>{var t;return Array.isArray(e)&&(null===(t=e[0])||void 0===t?void 0:t.startsWith(s))},void 0,{revalidate:!0})};t.Z=(e,t,a)=>{let{data:o,...m}=(0,r.ZP)([s,(0,n.Nq)({pageNum:e,pageSize:t,...function(e){if(!e)return{};let t=e&&["ideogram","image-to-image"].includes(e)?{imageType:e}:null;if(t)return(0,n.Nq)(t);let a=function(e){switch(e){case"flux-fill":return[l.NR[0].value];case"not-flux-fill":return d;case"canny-depth":return c;case"redux":return u;case"new-year-avatar":return[l.Yr.value];case"new-year-image":return[l.AD.value];case"flux-realism":return[l.ow.value];case"flux-avatar":return[l.yw.value];case"ideogram":return[l.TB.value];case"image-to-image":return l.vT.map(e=>e.value);case"gemini-flash-edit":return[l.dc.value];case"ghiblify":return l.$d.map(e=>e.value);default:return null}}(e);return(0,n.Nq)({modelNameList:a})}(a)})],i._i);return{data:null==o?void 0:o.rows,total:null==o?void 0:o.total,...m}}},97229:function(e,t,a){"use strict";var r=a(69916);let l={imageFormSrc:null,layerImageObj:null,layerMaskDataUrl:null,imageObj:null,uploadImageObj:null},n=(0,r.Ue)(e=>({...l,updateImageObj:t=>e({imageObj:t}),setImageFormSrc:t=>e({imageFormSrc:t}),setUploadImageObj:t=>e({uploadImageObj:t}),setLayerImageObj:t=>e({layerImageObj:t}),setLayerMaskDataUrl:t=>e({layerMaskDataUrl:t}),resetDefault:()=>e({...l})}));t.Z=n},52654:function(e,t,a){"use strict";var r=a(69916),l=a(38514),n=a(10609);let i="".concat(n._E,"-local-form-store"),s=(0,r.Ue)((0,l.tJ)((e,t)=>{var a;return{localIsPublic:(null===(a=t())||void 0===a?void 0:a.localIsPublic)||!0,setLocalIsPublic:t=>e({localIsPublic:t})}},{name:i,storage:(0,l.FL)(()=>localStorage)}));t.Z=s},44525:function(e,t,a){"use strict";var r=a(69916),l=a(91424);let n=(0,r.Ue)(e=>({selectedModalId:l.h[0].id,setSelectedModalId:t=>e({selectedModalId:t})}));t.Z=n},74145:function(e,t,a){"use strict";var r=a(69916);let l={prompt:"",style:"",nagativePrompt:"",resolution:a(10609).DP[0].value,modal:""},n=(0,r.Ue)(e=>({...l,defaultImgSrc:"",updateDefaultStore:t=>e(t),setPrompt:t=>e({prompt:t}),setStyle:t=>e({style:t}),setDefaultImgSrc:t=>e({defaultImgSrc:t}),resetDefault:()=>e(l)}));t.Z=n},32438:function(e,t,a){"use strict";let r=(0,a(69916).Ue)(e=>({open:!1,step:"login",defaultStep:"login",email:"",setOpen:t=>e({open:t}),setStep:t=>e({step:t}),setDefaultStep:t=>e({defaultStep:t}),setEmail:t=>e({email:t})}));t.Z=r},28882:function(e,t,a){"use strict";let r=(0,a(69916).Ue)(e=>({open:!1,setOpen:t=>e({open:t})}));t.Z=r},19429:function(e,t,a){"use strict";a.d(t,{M:function(){return i}});var r=a(69916),l=a(38514),n=a(10609);let i="".concat(n._E,"-local-redirectUrl"),s=(0,r.Ue)((0,l.tJ)((e,t)=>{var a;return{localRedirectUrl:(null===(a=t())||void 0===a?void 0:a.localRedirectUrl)||"",setLocalRedirectUrl:t=>e({localRedirectUrl:t})}},{name:i,storage:(0,l.FL)(()=>localStorage)}));t.Z=s}}]);