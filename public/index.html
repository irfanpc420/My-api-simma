<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teach the Bot</title>
</head>
<body>
  <h1>Teach the Bot New Responses</h1>
  
  <form id="teachForm">
    <label for="ask">Question (ask):</label>
    <input type="text" id="ask" name="ask" required><br><br>

    <label for="ans">Answer (ans):</label>
    <input type="text" id="ans" name="ans" required><br><br>

    <button type="submit">Teach</button>
  </form>

  <div id="responseMessage"></div>

  <script>
    const teachForm = document.getElementById('teachForm');
    const responseMessage = document.getElementById('responseMessage');

    teachForm.addEventListener('submit', async (event) => {
      event.preventDefault();
      
      const ask = document.getElementById('ask').value;
      const ans = document.getElementById('ans').value;

      try {
        const response = await fetch('/teach', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ ask, ans }),
        });

        const data = await response.json();

        if (data.err) {
          responseMessage.innerText = `Error: ${data.err}`;
        } else {
          responseMessage.innerText = `Successfully taught: "${ans}" for "${ask}"`;
        }
      } catch (error) {
        responseMessage.innerText = 'Error: Failed to teach the bot. Try again later.';
      }
    });
  </script>
</body>
</html>
